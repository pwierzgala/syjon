{% extends "trinity/base.html" %}

{% load i18n %}

{% block breadcrumb %}
    <a href="{% url 'merovingian:course:list' %}">{% trans "Courses" %}</a>
    &raquo; <a href="{% url 'merovingian:course:details' course.id %}">{{ course }}</a>
    &raquo; <a href="{% url 'trinity:slo:select_sgroup' course_id=course.id %}">{% trans "Choosing speciality" %}</a>
    &raquo; <a href="{% url 'trinity:slo:select_module' course_id=course.id sgroup_id=sgroup.id %}">Wybór przedmiotu</a>
	&raquo; <a href="{% url 'trinity:slo:select_subject' course_id=course.id sgroup_id=sgroup.id module_id=module.id %}">Wybór przedmiotu</a>
	&raquo; <span>Przeglądanie</span>
{% endblock %}

{% block content %}
	<h2>Przedmiotowe efekty uczenia się</h2>
    <table class="table_0 no_cell_borders no_border">
        <tbody>
            <tr><td class="label">{% trans "Course" %}:</td><td>{{ course }}</td></tr>
            <tr><td class="label">{% trans "Speciality" %}:</td><td>{{ sgroup.name }}</td></tr>
            <tr><td class="label">{% trans "Subject" %}:</td><td>{{ subject }}</td></tr>
        </tbody>
    </table>
    <div class="spacer_5"></div>

	<table class="table_0">
		<thead>
			<tr>
				<td>{% trans "Actions" %}</td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					{% if is_course_admin or request.user.is_superuser %}
						<a class="link_edit link_0" href="{% url 'trinity:slo:update' course_id=course.id sgroup_id=sgroup.id module_id=module.id subject_id=subject.id %}">
							Edytuj
						</a>
					{% endif %}
				</td>
			</tr>
		</tbody>
	</table>
	<div class="spacer_5"></div>

	<div id="ee_show">
		{% if subject.slos.all %}
			<table class="table_0">
				<thead>
					<tr>
						<td class="symbol">
							{% trans "Symbol" %}
						</td>
						<td class="description">
							Student, który zaliczył przedmiot w danym semestrze,
						</td>
						<td class="clo">
							Kierunkowe efekty uczenia się
						</td>
						{% if not course.is_level_phd and not course.is_level_pg_q and not course.is_level_pg_fl %}
							<td class="alo">
								Charakterystyki drugiego stopnia PRK
							</td>
						{% endif %}
					</tr>
				</thead>
				<tbody>
					{% for slo in subject.slos.all %}
						<tr class="{% cycle 'odd' 'even' %}">
							<td class="symbol">
								<span>{{ slo.symbol }}</span>
							</td>
							<td class="description">
								{{ slo.description|linebreaksbr }}
							</td>
							<td class="clo">
								<ul class="clos_list">
									{% for clo in slo.clos.all %}
										<li>
											<a href='' class='tip' title='{{ clo.description }}'>
												{{ clo }}
											</a>
										</li>
									{% endfor %}
								</ul>
							</td>
							<td class="alo">
								<ul class="alos_list">
									{% for loc in slo.get_related_locs %}
										<li>
											<a href='' class='tip' title='{{ loc.description }}'>
												{{ loc }}
											</a>
										</li>
								   {% endfor %}
								</ul>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
			<div class="spacer_5"></div>
		{% else %}
			<ul class="infolist">
				<li>{% trans "List of learning outcomes is empty." %}</li>
			</ul>
		{% endif %}
	</div>


{% endblock %}